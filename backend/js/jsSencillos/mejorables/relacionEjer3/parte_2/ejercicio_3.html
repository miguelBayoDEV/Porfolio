<html>
	<head>
		<meta charset="utf-8">
		<title>Ejercicio 3x02: ejercicio 3 eventos</title>
		<style type="text/css">
			img {
				width: 15px;
				height: 15px;
			}
		</style>
	</head>
	<body>
		<div id="lista">
			<h3>Lista dinámica</h3>
			<ul></ul>
			<hr/>
		<div>
		<span>Nuevo Texto</span>
		<input type="text" id="nuevoelemento">
		<button id="actualizar" onClick="addItemsLista();"> Añadir </button>

		<script type="text/javascript">
			function addItemsLista() {
				// Crear elemento
				var li = document.createElement("li");
				li.setAttribute("id", "li");
				var img = document.createElement("img");
				img.setAttribute("src", "delete_40623.png");
				img.addEventListener("click", removeItemLista, false);
				var texto = document.createTextNode(document.getElementById("nuevoelemento").value);
				li.appendChild(img);
				li.appendChild(texto);
				document.getElementById("lista").children[1].appendChild(li);

				document.getElementById("nuevoelemento").value = "";
			}

			function removeItemLista() {
				var borrar = window.prompt("¿Quieres borrar el elemento?");
				if(borrar == "SI" || borrar == "si") {
					this.parentNode.parentNode.removeChild(this.parentNode);
				}
			}

			function newAddItemsLista(e) {
				if(e.keyCode == "13") {
					addItemsLista();
				}
			}
			
			document.getElementById("nuevoelemento").addEventListener("keypress", newAddItemsLista, false);
				
		</script>
	</body>
</html>